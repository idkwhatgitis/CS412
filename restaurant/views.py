from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
import time
import random
from datetime import datetime, timedelta


# Create your views here.
main_pic = 'data:image/jpeg;base64,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'


def main(request):
    '''Show the web page with the form.'''
    template_name = "restaurant/main.html"
    context  = {
        "image": main_pic,
    }
    return render(request, template_name, context)

special = ['Mashed avocado', 'Apple chicken', 'Extra spicy sour sauce']


random_num = random.randint(0,2)
def order(request):
    template_name = "restaurant/order.html"
    global random_num
    random_num = random.randint(0,2)
    context = {
        "special" : special[random_num],
    }

    return render(request, template_name, context)


def submit(request):
    template_name = 'restaurant/confirmation.html'

    if request.method == 'POST':
        total_cost = 0
        entree = request.POST.getlist('entree')  # for checkboxes, use getlist to retrieve multiple values
        daily_special = request.POST.get('special')  # match the form's 'special' name
        instruction = request.POST['instruction']
        name = request.POST['name']
        number = request.POST['num']  # match the form's 'num' field
        email = request.POST['email']
        large_or_no = request.POST.get('large', 'Not specified')

        random_time = random.randint(30,60)

        time_now = datetime.now()

        time_after = time_now + timedelta(minutes=random_time)

        time_after_str = time_after.ctime()

     
            

        name_entree = []
        for item in entree:
            match item:
                case 'Eggs': total_cost+=4
                case 'Avocado': total_cost+=10
                case 'Cheese': total_cost+=6
                case 'Ham': total_cost+=12

        for item in entree:
            match item:
                case 'Eggs': name_entree += ["Poached eggs"]
                case 'Avocado': name_entree += ["Acovado Toast"]
                case 'Cheese': name_entree += ["Grilled cheese"]
                case 'Ham': name_entree += ["Ham sandwich"]
        
        

        if (daily_special=='special'):
            if (large_or_no == 'Yes'):
                total_cost+=15
                name_entree+= [special[random_num]+'(Large)']
            else:
                total_cost+=10
                name_entree+= [special[random_num]+'(Regular)']
        

        
        context = {
            "entree" : name_entree,
            "name": name,
            "number": number,
            "instruction": instruction,
            "cost": total_cost,
            "time_submit" : time_now.ctime(),
            "time_ready" : time_after_str,
            "email" :email,
        }

        print(entree, daily_special, instruction, name, number)
        print(name_entree)#true
        print(total_cost)

        return render(request, template_name, context)
    
    return redirect("order")
